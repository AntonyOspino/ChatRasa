version: "3.1"

stories:
  - story: saludo inicial
    steps:
      - intent: saludo
      - action: utter_saludo

  - story: despedida simple
    steps:
      - intent: despedida
      - action: utter_despedida

  - story: usuario agradece
    steps:
      - intent: agradecimiento
      - action: utter_agradecimiento

  - story: usuario pregunta si es bot
    steps:
      - intent: eres_bot
      - action: utter_eres_bot

  - story: usuario pide consejos
    steps:
      - intent: consejos
      - action: utter_consejos

  - story: usuario termina conversación
    steps:
      - intent: negacion
      - action: utter_despedida

  - story: despedida directa
    steps:
      - intent: despedida
      - action: utter_despedida

  - story: flujo de ayuda
    steps:
      - intent: ayuda
      - action: utter_ayuda

  - story: usuario responde sobre intensidad del dolor
    steps:
      - intent: describir_dolor
      - action: utter_recomendacion_medica

  # ✅ FLUJOS CLAROS PARA CONSULTAR CITA
  - story: consultar cita completo
    steps:
      - intent: consultar_cita
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_cita
      - action: utter_ofrecer_ayuda_cita

  # ✅ FLUJOS CLAROS PARA CONSULTAR DOCTOR
  - story: consultar doctor completo
    steps:
      - intent: consultar_doctor
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_doctor
      - action: utter_ofrecer_ayuda_doctor

  - story: consultar cita y luego doctor
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: consultar_cita
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_cita
      - action: utter_ofrecer_ayuda_cita
      - intent: consultar_doctor
      - action: action_consultar_doctor
      - action: utter_ofrecer_ayuda_general

  - story: consultar doctor y luego cita
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: consultar_doctor
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_doctor
      - action: utter_ofrecer_ayuda_doctor
      - intent: consultar_cita
      - action: action_consultar_cita
      - action: utter_ofrecer_ayuda_general

  # ✅ FLUJOS CLAROS PARA CONSULTAR HISTORIAL, DIAGNOSTICO Y ESPECIALIDADES
  - story: consultar historial médico
    steps:
      - intent: consultar_historial
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_historial
      - action: utter_ofrecer_ayuda_historial

  - story: consultar último diagnóstico
    steps:
      - intent: consultar_ultimo_diagnostico
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_ultimo_diagnostico
      - action: utter_ofrecer_ayuda_diagnostico

  - story: consultar especialidades
    steps:
      - intent: consultar_especialidades
      - action: action_consultar_especialidades
      - action: utter_ofrecer_ayuda_especialidades

  - story: flujo completo con historial
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: consultar_cita
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_cita
      - action: utter_ofrecer_ayuda_cita
      - intent: consultar_historial
      - action: action_consultar_historial
      - action: utter_ofrecer_ayuda_general

  # ✅ FLUJOS CLAROS PARA CONSULTAR DATOS DEL PACIENTE, CITAS ANTERIORES, RECOMENDACIONES y MEDICOS POR ESPECIALIDAD
  - story: consultar datos del paciente
    steps:
      - intent: consultar_datos_paciente
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_datos_paciente
      - action: utter_ofrecer_ayuda_datos_paciente

  - story: consultar citas anteriores
    steps:
      - intent: consultar_citas_anteriores
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_citas_anteriores
      - action: utter_ofrecer_ayuda_citas_anteriores

  - story: consultar recomendaciones médicas
    steps:
      - intent: consultar_recomendaciones
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_recomendaciones
      - action: utter_ofrecer_ayuda_recomendaciones

  - story: consultar médicos por especialidad
    steps:
      - intent: consultar_medicos_especialidad
      - action: action_consultar_medicos_especialidad
      - action: utter_ofrecer_ayuda_medicos

  - story: consultar próxima cita
    steps:
      - intent: consultar_proxima_cita
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_proxima_cita
      - action: utter_ofrecer_ayuda_proxima_cita

  - story: flujo completo consultas médicas
    steps:
      - intent: saludo
      - action: utter_saludo
      - intent: consultar_proxima_cita
      - action: utter_pedir_identificacion
      - intent: dar_identificacion
      - action: action_consultar_proxima_cita
      - action: utter_ofrecer_ayuda_proxima_cita
      - intent: consultar_datos_paciente
      - action: action_consultar_datos_paciente
      - action: utter_ofrecer_ayuda_general

  - story: consultar médicos de especialidad específica
    steps:
      - intent: consultar_medicos_especialidad
      - action: action_consultar_medicos_especialidad
      - action: utter_ofrecer_ayuda_medicos
